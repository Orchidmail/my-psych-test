<!DOCTYPE html>

<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>나는 어떤 연애 스타일일까? 테스트</title>
<style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      max-width: 480px;
      margin: 30px auto;
      padding: 20px;
      background: #f8f8f8;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #d6336c;
    }
    #question-box, #result-box {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    }
    button {
      display: block;
      width: 100%;
      padding: 12px;
      margin: 12px 0;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background: #d6336c;
      color: white;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #b52a5b;
    }
    #result-box {
      display: none;
      text-align: center;
    }
    #result-box h2 {
      color: #d6336c;
    }
  </style>
</head>
<body>
<h1>나는 어떤 연애 스타일일까?</h1>
<div id="question-box">
<h2 id="question">질문</h2>
<button id="btn0"></button>
<button id="btn1"></button>
<button id="btn2"></button>
<button id="btn3"></button>
</div>
<div id="result-box">
<h2>당신의 연애 스타일은...</h2>
<p id="result-text"></p>
<button id="restart-btn">다시 하기</button>
<button id="home-btn">메인 화면으로</button>
</div>
<script>
    const questions = [
      {
        q: "썸을 시작할 때 당신은?",
        options: [
          { text: "먼저 다가가 대화를 시도한다.", type: "A" },
          { text: "그 사람이 나한테 먼저 관심 보이길 기다린다.", type: "B" },
          { text: "신중하게 관찰하고 천천히 접근한다.", type: "C" },
          { text: "갑자기 불쑥 마음이 앞서 행동한다.", type: "D" }
        ]
      },
      {
        q: "연애 초반, 당신의 모습은?",
        options: [
          { text: "자주 연락하고 애정 표현도 적극적이다.", type: "A" },
          { text: "연락 오면 반갑지만 내가 먼저 연락하진 않는다.", type: "B" },
          { text: "상대의 페이스를 살핀다.", type: "C" },
          { text: "너무 좋아서 혼자 폭주하기도 한다.", type: "D" }
        ]
      },
      {
        q: "연인이 고민이 있다고 하면?",
        options: [
          { text: "해결책을 제시하려 한다.", type: "A" },
          { text: "듣기만 해주고 조용히 기다린다.", type: "B" },
          { text: "감정선을 먼저 파악하려 한다.", type: "C" },
          { text: "같이 울거나 흥분해서 몰입한다.", type: "D" }
        ]
      },
      {
        q: "애인과의 약속이 갑자기 취소되면?",
        options: [
          { text: "쿨하게 이해하고 넘긴다.", type: "A" },
          { text: "아무 말 없이 속으로 상처받는다.", type: "B" },
          { text: "이유를 묻고 납득하면 괜찮다.", type: "C" },
          { text: "서운함을 바로 표현한다.", type: "D" }
        ]
      },
      {
        q: "당신이 이별을 맞이할 때는?",
        options: [
          { text: "빨리 현실을 받아들이고 정리한다.", type: "A" },
          { text: "표현은 안 해도 오랫동안 마음이 아프다.", type: "B" },
          { text: "이성적으로 상황을 분석하려 한다.", type: "C" },
          { text: "감정 폭발 후 후회와 미련이 길게 남는다.", type: "D" }
        ]
      },
      {
        q: "당신의 애정 표현 방식은?",
        options: [
          { text: "자주 연락하고 표현을 잘한다.", type: "A" },
          { text: "행동보다는 마음으로 사랑을 전한다.", type: "B" },
          { text: "분위기와 타이밍을 봐서 조심스럽게 한다.", type: "C" },
          { text: "서프라이즈 이벤트나 감정적인 표현이 많다.", type: "D" }
        ]
      }
    ];

    const results = {
      A: "직진형 – 내 마음은 로켓! 좋아하면 바로 표현하고, 먼저 다가가는 데 두려움이 없어요.",
      B: "회피형 – 조용한 관망자. 감정 표현은 서툴지만 가까워지면 깊은 애정을 줍니다.",
      C: "신중형 – 사랑도 계획이 필요해. 안정적인 관계를 선호하며 상황 판단을 중요하게 생각해요.",
      D: "감정형 – 감정은 롤러코스터. 기쁠 때 최고지만 상처받을 땐 깊이 아파하는 스타일이에요."
    };

    let currentIndex = 0;
    const score = { A: 0, B: 0, C: 0, D: 0 };

    const questionEl = document.getElementById("question");
    const buttons = [
      document.getElementById("btn0"),
      document.getElementById("btn1"),
      document.getElementById("btn2"),
      document.getElementById("btn3")
    ];

    const questionBox = document.getElementById("question-box");
    const resultBox = document.getElementById("result-box");
    const resultText = document.getElementById("result-text");
    const restartBtn = document.getElementById("restart-btn");
    const homeBtn = document.getElementById("home-btn");

    function loadQuestion() {
      const q = questions[currentIndex];
      questionEl.innerText = `Q${currentIndex + 1}. ${q.q}`;
      q.options.forEach((opt, i) => {
        buttons[i].innerText = opt.text;
        buttons[i].onclick = () => selectAnswer(opt.type);
      });
    }

    function selectAnswer(type) {
      score[type]++;
      currentIndex++;
      if (currentIndex === questions.length) {
        showResult();
      } else {
        loadQuestion();
      }
    }

    function showResult() {
      questionBox.style.display = "none";
      resultBox.style.display = "block";

      // 점수 가장 높은 유형 찾기
      const sorted = Object.entries(score).sort((a, b) => b[1] - a[1]);
      const topType = sorted[0][0];
      resultText.innerText = results[topType];
    }

    restartBtn.onclick = () => {
      // 초기화
      currentIndex = 0;
      for (let key in score) score[key] = 0;
      resultBox.style.display = "none";
      questionBox.style.display = "block";
      loadQuestion();
    };

    homeBtn.onclick = () => {
      location.href = "index.html";
    };

    // 페이지 열리면 첫 질문 표시
    loadQuestion();
  </script>
</body>
</html>
