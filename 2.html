<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2. ìš”ì¦˜ ë‚´ ë§ˆìŒì˜ ë‚ ì”¨ëŠ”?</title>
  <!-- ê³µí†µ CSS íŒŒì¼ ì—°ê²° -->
  <link rel="stylesheet" href="css/style.css" />
  <style>
    /* í˜ì´ì§€ë³„ ì¶”ê°€ ìŠ¤íƒ€ì¼ (í•„ìš”ì‹œ ìˆ˜ì •) */
    .question {
      margin-bottom: 30px;
    }
    .choice {
      display: block;
      margin: 10px 0;
      padding: 12px;
      width: 100%;
      max-width: 300px;
      font-size: 16px;
      border: 2px solid #333;
      border-radius: 8px;
      cursor: pointer;
      background: #fff;
      text-align: left;
    }
    .choice:hover {
      background-color: #f0f0f0;
    }
    #result {
      text-align: center;
    }
    #result h2 {
      font-size: 1.5rem;
      margin-bottom: 10px;
    }
    #result p {
      margin-bottom: 20px;
    }
    #result button {
      margin: 5px;
      padding: 10px 16px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      font-size: 14px;
      background-color: #4CAF50;
      color: #fff;
      transition: background-color 0.2s;
    }
    #result button:hover {
      background-color: #45a049;
    }
  </style>
</head>
<body>
  <header>
    <h1>ìš”ì¦˜ ë‚´ ë§ˆìŒì˜ ë‚ ì”¨ëŠ”?</h1>
    <a href="index.html">â† í…ŒìŠ¤íŠ¸ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
  </header>

  <main>
    <!-- ì§ˆë¬¸ 1 -->
    <section id="q1" class="question">
      <p><strong>Q1. ì˜¤ëŠ˜ ê¸°ë¶„ì´ ê°€ì¥ ì˜ ë“œëŸ¬ë‚˜ëŠ” í•œë§ˆë””ëŠ”?</strong></p>
      <button class="choice" data-score="sunny">A. â€œì˜¤ëŠ˜ì€ ëª¨ë“  ê²Œ ì˜ í’€ë¦´ ê²ƒ ê°™ì•„!â€</button>
      <button class="choice" data-score="cloudy">B. â€œê·¸ëƒ¥ ë¬´ë˜í•˜ê²Œ ë³´ë‚´ê³  ì‹¶ì–´.â€</button>
      <button class="choice" data-score="rainy">C. â€œì™ ì§€ ë§ˆìŒì´ ìš¸ì í•´â€¦â€</button>
      <button class="choice" data-score="stormy">D. â€œë¨¸ë¦¿ì†ì´ ë³µì¡í•´ì„œ í­í’ ê°™ì•„!â€</button>
    </section>

    <!-- ì§ˆë¬¸ 2 -->
    <section id="q2" class="question" style="display: none;">
      <p><strong>Q2. ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ì„ ë•Œ ì£¼ë¡œ í•˜ëŠ” í–‰ë™ì€?</strong></p>
      <button class="choice" data-score="sunny">A. ì¹œêµ¬ì™€ ì›ƒìœ¼ë©° ìˆ˜ë‹¤ ë–¨ê¸°</button>
      <button class="choice" data-score="cloudy">B. ì¡°ìš©íˆ ìŒì•… ë“¤ìœ¼ë©° ì‰¬ê¸°</button>
      <button class="choice" data-score="rainy">C. í˜¼ì ì¡°ìš©íˆ ëˆˆë¬¼ í˜ë¦¬ê¸°</button>
      <button class="choice" data-score="stormy">D. ê²©í•˜ê²Œ ìš´ë™í•˜ê±°ë‚˜ ì§ˆëŸ¬ë²„ë¦¬ê¸°</button>
    </section>

    <!-- ì§ˆë¬¸ 3 -->
    <section id="q3" class="question" style="display: none;">
      <p><strong>Q3. ì´ìƒì ì¸ íë§ ë°©ë²•ì€?</strong></p>
      <button class="choice" data-score="sunny">A. ì•¼ì™¸ ë‚˜ë“¤ì´í•˜ë©° ì‚°ì±…í•˜ê¸°</button>
      <button class="choice" data-score="cloudy">B. ë”°ëœ»í•œ ì°¨ í•œ ì”ê³¼ ì±… ì½ê¸°</button>
      <button class="choice" data-score="rainy">C. ê°ì„± ì˜í™” ë³´ë©° ëˆˆë¬¼ í˜ë¦¬ê¸°</button>
      <button class="choice" data-score="stormy">D. ì‹ ë‚˜ëŠ” ìŒì•… í¬ê²Œ í‹€ê³  ì¶¤ì¶”ê¸°</button>
    </section>

    <!-- ê²°ê³¼ ë³´ì—¬ì¤„ ì„¹ì…˜ -->
    <section id="result" style="display: none;">
      <!-- JavaScriptë¡œ ê²°ê³¼ ì±„ì›Œì§ˆ ì˜ˆì • -->
    </section>
  </main>

  <footer>
    <p>Â© 2025 MyPsychTest</p>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const choices = document.querySelectorAll('.choice');
      const questions = document.querySelectorAll('.question');
      let answers = [];

      choices.forEach(btn => {
        btn.addEventListener('click', (e) => {
          // ë‹µë³€ ì ìˆ˜(ë‚ ì”¨ ì½”ë“œ) ì €ì¥
          const weatherType = e.target.getAttribute('data-score');
          answers.push(weatherType);

          // í˜„ì¬ ì§ˆë¬¸ ìˆ¨ê¸°ê³  ë‹¤ìŒ ì§ˆë¬¸ í‘œì‹œ
          const currentSection = e.target.closest('.question');
          const nextSection = currentSection.nextElementSibling;
          if (nextSection && nextSection.classList.contains('question')) {
            currentSection.style.display = 'none';
            nextSection.style.display = 'block';
          } else {
            // ë§ˆì§€ë§‰ ì§ˆë¬¸ì´ ëë‚˜ë©´ ê²°ê³¼ í‘œì‹œ
            showResult(answers);
          }
        });
      });

      function showResult(arr) {
        // ê° ë‚ ì”¨ ì½”ë“œë³„ ë¹ˆë„ ê³„ì‚°
        const counts = arr.reduce((acc, cur) => {
          acc[cur] = (acc[cur] || 0) + 1;
          return acc;
        }, {});

        // ê°€ì¥ ë§ì´ ì„ íƒëœ ë‚ ì”¨ íƒ€ì… ì°¾ê¸°
        let maxType = 'sunny';
        let maxCount = 0;
        Object.keys(counts).forEach(type => {
          if (counts[type] > maxCount) {
            maxCount = counts[type];
            maxType = type;
          }
        });

        // ë‚ ì”¨ë³„ ê²°ê³¼ í…ìŠ¤íŠ¸ ë° ì„¤ëª…
        let resultTitle = '';
        let resultDesc = '';
        switch (maxType) {
          case 'sunny':
            resultTitle = 'â˜€ï¸ ë§‘ìŒ';
            resultDesc = 'ì§€ê¸ˆ ë‹¹ì‹ ì˜ ë§ˆìŒì€ ê¸°ë¶„ ì¢‹ê³  ë°ì€ í–‡ì‚´ì²˜ëŸ¼ ë§‘ì•„ìš”! ìƒˆë¡œìš´ ë„ì „ë„ ë‘ë µì§€ ì•Šë‹µë‹ˆë‹¤.';
            break;
          case 'cloudy':
            resultTitle = 'â˜ï¸ íë¦¼';
            resultDesc = 'ìš”ì¦˜ ë‹¹ì‹ ì˜ ë§ˆìŒì€ êµ¬ë¦„ ë‚€ í•˜ëŠ˜ ê°™ì•„ìš”. í° ê¸°ë³µ ì—†ì´ ë¬´ë‚œí•˜ì§€ë§Œ, ê°€ë”ì€ ì°¨ë¶„í•œ íœ´ì‹ì´ í•„ìš”í•´ìš”.';
            break;
          case 'rainy':
            resultTitle = 'ğŸŒ§ï¸ ë¹„';
            resultDesc = 'ì§€ê¸ˆ ë‹¹ì‹ ì˜ ë§ˆìŒì€ ì”ì”í•œ ë¹—ë°©ìš¸ì²˜ëŸ¼ ì´‰ì´‰í•˜ê³  ê°ì„±ì ì´ì—ìš”. ê°€ë” ìš¸ì í•´ë„ ê´œì°®ì•„ìš”. ê°ì •ì„ í‘œí˜„í•  ì‹œê°„ì´ í•„ìš”í•´ìš”.';
            break;
          case 'stormy':
            resultTitle = 'â›ˆï¸ í­í’';
            resultDesc = 'ì§€ê¸ˆ ë‹¹ì‹ ì˜ ë§ˆìŒì€ í­í’ì´ ëª°ì•„ì¹˜ëŠ” ê²ƒì²˜ëŸ¼ ë³µì¡í•´ìš”. ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ìµœê³ ì¡°ì— ë‹¬í•´ìˆì„ ìˆ˜ ìˆì–´ìš”. ì ì‹œ ë©ˆì¶”ê³  ìˆ¨ ê³ ë¥¼ í•„ìš”ê°€ ìˆì–´ìš”.';
            break;
        }

        // ê²°ê³¼ ì„¹ì…˜ì— ë‚´ìš© ì‚½ì…
        const resSection = document.getElementById('result');
        resSection.innerHTML = `
          <h2>ê²°ê³¼: ${resultTitle}</h2>
          <p>${resultDesc}</p>
          <button id="retry">ë‹¤ì‹œ í•˜ê¸°</button>
          <button id="toIndex">í…ŒìŠ¤íŠ¸ ëª©ë¡ìœ¼ë¡œ</button>
        `;

        // ëª¨ë“  ì§ˆë¬¸ ìˆ¨ê¸°ê¸°
        questions.forEach(sec => sec.style.display = 'none');
        // ê²°ê³¼ ì„¹ì…˜ í‘œì‹œ
        resSection.style.display = 'block';

        // ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²°
        document.getElementById('retry').addEventListener('click', () => {
          location.href = '2.html';
        });
        document.getElementById('toIndex').addEventListener('click', () => {
          location.href = 'index.html';
        });
      }
    });
  </script>
</body>
</html>
