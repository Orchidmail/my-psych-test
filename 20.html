<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>나는 어떤 내적 갈등 유형일까?</title>
  <style>
    body { font-family: 'Noto Sans KR', sans-serif; max-width: 480px; margin: 30px auto; padding: 20px; background: #f2f0f7; color: #333; }
    h1 { text-align: center; color: #5f3dc4; }
    #question-box, #result-box { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 3px 8px rgba(0,0,0,0.1); }
    button { display: block; width: 100%; padding: 12px; margin: 12px 0; font-size: 16px; border: none; border-radius: 8px; cursor: pointer; background: #5f3dc4; color: white; transition: background 0.3s ease; }
    button:hover { background: #4529a7; }
    #result-box { display: none; text-align: center; }
    #result-box h2 { color: #5f3dc4; }
  </style>
</head>
<body>
  <h1>나는 어떤 내적 갈등 유형일까?</h1>
  <div id="question-box">
    <h2 id="question">질문</h2>
    <button id="btn0"></button>
    <button id="btn1"></button>
    <button id="btn2"></button>
    <button id="btn3"></button>
  </div>
  <div id="result-box">
    <h2>당신의 내적 갈등 유형은...</h2>
    <p id="result-text"></p>
    <button id="restart-btn">다시 하기</button>
    <button onclick="location.href='index.html'">메인 화면으로</button>
  </div>
  <script>
    const questions = [
      {
        q: "결정을 내려야 할 때 나는?",
        options: [
          { text: "논리와 감정 사이에서 갈등한다", type: "A" },
          { text: "타인의 기대와 나의 욕구 사이에서 고민한다", type: "B" },
          { text: "과거의 실수와 현재의 선택 사이에서 망설인다", type: "C" },
          { text: "성공 욕구와 실패에 대한 두려움이 충돌한다", type: "D" }
        ]
      },
      {
        q: "나를 가장 흔드는 말은?",
        options: [
          { text: "왜 그렇게 감정적으로 행동해?", type: "A" },
          { text: "다들 너한테 기대하고 있어", type: "B" },
          { text: "또 실수하면 어쩌려고 그래?", type: "C" },
          { text: "그렇게 해도 될까? 너무 위험하지 않아?", type: "D" }
        ]
      },
      {
        q: "무언가를 선택한 후 나는?",
        options: [
          { text: "감정적으로 괜찮은 선택이었는지 생각한다", type: "A" },
          { text: "내가 이기적인 건 아닐까 고민한다", type: "B" },
          { text: "더 좋은 선택이 있었던 건 아닐까 후회한다", type: "C" },
          { text: "내가 너무 과감했던 건 아닌지 걱정한다", type: "D" }
        ]
      }
    ];

    const results = {
      A: "⚖️ 감정 vs 이성형 – 항상 감정과 논리 사이에서 균형을 잡으려 노력하지만 그만큼 갈등도 많아요.",
      B: "👥 타인 의식형 – 나보다 타인의 시선을 더 의식해서 내 욕구를 뒤로 미루는 경우가 많아요.",
      C: "🕰️ 후회 반복형 – 선택 후에도 계속 다른 가능성을 떠올리며 쉽게 만족하지 못하는 스타일이에요.",
      D: "🎯 완벽 압박형 – 성공과 실패 사이에서 끊임없이 스스로에게 부담을 주는 경향이 있어요."
    };

    let currentIndex = 0;
    const score = { A: 0, B: 0, C: 0, D: 0 };
    const questionEl = document.getElementById("question");
    const buttons = ["btn0", "btn1", "btn2", "btn3"].map(id => document.getElementById(id));
    const questionBox = document.getElementById("question-box");
    const resultBox = document.getElementById("result-box");
    const resultText = document.getElementById("result-text");
    const restartBtn = document.getElementById("restart-btn");

    function loadQuestion() {
      const q = questions[currentIndex];
      questionEl.innerText = `Q${currentIndex + 1}. ${q.q}`;
      q.options.forEach((opt, i) => {
        buttons[i].innerText = opt.text;
        buttons[i].onclick = () => selectAnswer(opt.type);
      });
    }

    function selectAnswer(type) {
      score[type]++;
      currentIndex++;
      if (currentIndex === questions.length) showResult();
      else loadQuestion();
    }

    function showResult() {
      questionBox.style.display = "none";
      resultBox.style.display = "block";
      const topType = Object.entries(score).sort((a,b) => b[1]-a[1])[0][0];
      resultText.innerText = results[topType];
    }

    restartBtn.onclick = () => {
      currentIndex = 0;
      for (let key in score) score[key] = 0;
      resultBox.style.display = "none";
      questionBox.style.display = "block";
      loadQuestion();
    };

    loadQuestion();
  </script>
</body>
</html>
