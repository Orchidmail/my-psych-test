<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>나는 어떤 MBTI에 집착하는 사람일까?</title>
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      max-width: 480px;
      margin: 30px auto;
      padding: 20px;
      background: #f0f4ff;
      color: #1f2937;
    }
    h1 {
      text-align: center;
      color: #2563eb;
    }
    #question-box, #result-box {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    button {
      display: block;
      width: 100%;
      padding: 12px;
      margin: 12px 0;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background: #2563eb;
      color: white;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #1d4ed8;
    }
    #result-box {
      display: none;
      text-align: center;
    }
    #result-box h2 {
      color: #2563eb;
    }
  </style>
</head>
<body>
  <h1>나는 어떤 MBTI에 집착하는 사람일까?</h1>
  <div id="question-box">
    <h2 id="question">질문</h2>
    <button id="btn0"></button>
    <button id="btn1"></button>
    <button id="btn2"></button>
    <button id="btn3"></button>
  </div>
  <div id="result-box">
    <h2>당신이 집착하는 MBTI는...</h2>
    <p id="result-text"></p>
    <button id="restart-btn">다시 하기</button>
    <button onclick="location.href='index.html'">메인 화면으로</button>
  </div>
  <script>
    const questions = [
      {
        q: "MBTI를 어떻게 생각하나요?",
        options: [
          { text: "성격을 잘 설명해주는 도구!", type: "A" },
          { text: "그냥 참고 자료일 뿐.", type: "B" },
          { text: "꽤 정확해서 믿는다.", type: "C" },
          { text: "재미로 보지만 자꾸 신경 쓰임.", type: "D" }
        ]
      },
      {
        q: "친구 MBTI를 알게 되면?",
        options: [
          { text: "어울릴 MBTI인지 따져본다.", type: "A" },
          { text: "음~ 그냥 듣고 넘긴다.", type: "B" },
          { text: "인터넷에서 궁합을 검색해본다.", type: "C" },
          { text: "대화 성향을 파악하는 데 쓴다.", type: "D" }
        ]
      },
      {
        q: "이상형의 MBTI가 궁금할 때는?",
        options: [
          { text: "몰라도 상관없다.", type: "B" },
          { text: "알게 되면 엄청 분석한다.", type: "A" },
          { text: "그 사람을 이해하는 힌트라 생각한다.", type: "D" },
          { text: "뭔가 중요한 요소처럼 느껴진다.", type: "C" }
        ]
      }
    ];

    const results = {
      A: "🔍 분석집착러\n\nMBTI 성향을 꼼꼼히 분석하며 궁합까지 따지는 타입!",
      B: "😌 무심한 관망러\n\nMBTI는 참고용일 뿐, 별로 신경 쓰지 않는 스타일이에요.",
      C: "📘 참고집착러\n\nMBTI를 꽤 신뢰하며 중요한 판단 기준 중 하나로 생각해요.",
      D: "🌀 은근집착러\n\n겉으론 무심해 보이지만 속으론 신경 쓰는 은근 집착형!"
    };

    let currentIndex = 0;
    const score = { A: 0, B: 0, C: 0, D: 0 };
    const questionEl = document.getElementById("question");
    const buttons = ["btn0", "btn1", "btn2", "btn3"].map(id => document.getElementById(id));
    const questionBox = document.getElementById("question-box");
    const resultBox = document.getElementById("result-box");
    const resultText = document.getElementById("result-text");
    const restartBtn = document.getElementById("restart-btn");

    function loadQuestion() {
      const q = questions[currentIndex];
      questionEl.innerText = `Q${currentIndex + 1}. ${q.q}`;
      q.options.forEach((opt, i) => {
        buttons[i].innerText = opt.text;
        buttons[i].onclick = () => selectAnswer(opt.type);
      });
    }

    function selectAnswer(type) {
      score[type]++;
      currentIndex++;
      if (currentIndex === questions.length) showResult();
      else loadQuestion();
    }

    function showResult() {
      questionBox.style.display = "none";
      resultBox.style.display = "block";
      const topType = Object.entries(score).sort((a, b) => b[1] - a[1])[0][0];
      resultText.innerText = results[topType];
    }

    restartBtn.onclick = () => {
      currentIndex = 0;
      for (let key in score) score[key] = 0;
      resultBox.style.display = "none";
      questionBox.style.display = "block";
      loadQuestion();
    };

    loadQuestion();
  </script>
</body>
</html>
